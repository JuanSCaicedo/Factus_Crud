<div class="infor">
    <h2>Creación de factura</h2>

    <div class="enlaces">
        <a [routerLink]="'/'">
            Volver
        </a>
        <a href="/" onclick="return false;" (click)="logout()">
            Logout
        </a>
    </div>
</div>

<div class="form-container">
    <h2>Crear Factura</h2>
    <form>
        <div class="form-row">
            <div class="form-group">
                <label for="reference_code">Código de Referencia:</label>
                <input type="text" id="reference_code" [(ngModel)]="reference_code" name="reference_code" required>
            </div>
            <div class="form-group">
                <div class="input-group payment-method">
                    <label for="payment_method" style="font-weight: bold;">Seleccione el Método de Pago:</label>
                    <select id="payment_method" name="payment.method" class="form-control option" required
                        [(ngModel)]="payment_method">
                        <option value="0" disabled selected>--Seleccione--</option>
                        <option value="10">Efectivo</option>
                        <option value="42">Consignación</option>
                        <option value="20">Cheque</option>
                        <option value="47">Transferencia</option>
                        <option value="71">Bonos</option>
                        <option value="72">Vales</option>
                        <option value="1">Medio de pago no definido</option>
                        <option value="49">Tarjeta Débito</option>
                        <option value="48">Tarjeta Crédito</option>
                        <option value="ZZZ">Otro*</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group">
                <label for="observation">Observación:</label>
                <textarea id="observation" name="observation" [(ngModel)]="observation"></textarea>
            </div>

            <div class="container">
                <h3>Listado de Productos</h3>
                <div class="productos">
                    <div *ngFor="let producto of productos; let i = index">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" [id]="'producto-' + i" [value]="producto"
                                [(ngModel)]="producto.selected" name="productosSeleccionados" />
                            <label class="form-check-label" [for]="'producto-' + i">
                                <strong>{{ producto.name }}</strong><br />
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <h3>Datos del Cliente</h3>
        <div class="form-row">

            <div class="form-group">
                <label for="customer_identification">Identificación:</label>
                <input type="text" id="customer_identification" name="customer.identification"
                    [(ngModel)]="customer_identification" required>
            </div>

            <div class="form-group">
                <div class="input-group customer">
                    <label for="customer_type" style="font-weight: bold;">Seleccione Documento del Cliente:</label>
                    <select id="customer_type" [(ngModel)]="customer_type" name="customer.type"
                        class="form-control option" required>
                        <option value="0" disabled selected>--Seleccione--</option>
                        <option value="1">Registro Civil</option>
                        <option value="2">Tarjeta de identidad</option>
                        <option value="3">Cédula de ciudadanía</option>
                        <option value="4">Tarjeta de extranjería</option>
                        <option value="5">Cédula de extranjería</option>
                        <option value="6">NIT</option>
                        <option value="7">Pasaporte</option>
                        <option value="8">Documento de identificación extranjero</option>
                        <option value="9">PEP</option>
                        <option value="10">NIT otro país</option>
                        <option value="11">NUIP*</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="customer_dv">DV:</label>
                <input type="text" id="customer_dv" name="customer.dv" disabled value="3">
            </div>
            <div class="form-group">
                <label for="customer_company">Empresa:</label>
                <input type="text" id="customer_company" [(ngModel)]="customer_company" name="customer.company"
                    required>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="customer_names">Nombres:</label>
                <input type="text" id="customer_names" name="customer.names" [(ngModel)]="customer_names" required>
            </div>
            <div class="form-group">
                <label for="customer_address">Dirección:</label>
                <input type="text" id="customer_address" [(ngModel)]="customer_address" name="customer.address"
                    required>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group">
                <label for="customer_email">Correo Electrónico:</label>
                <input type="email" id="customer_email" [(ngModel)]="customer_email" name="customer.email" required>
            </div>
            <div class="form-group">
                <label for="customer_phone">Teléfono:</label>
                <input type="tel" id="customer_phone" name="customer.phone" [(ngModel)]="customer_phone" required>
            </div>
        </div>
        <!-- <button type="submit" class="btn">Enviar</button> -->

        <a href="#" onclick="return false;" (click)="onSubmit()" class="tp-login-btn"
            [class.disabled-btn]="isLoading$ | async">
            <ng-container *ngIf="isLoading$ | async">
                <span class="indicator-progress" [style.display]="'block'">
                    Please wait...
                    <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                </span>
            </ng-container>
            <ng-container *ngIf="(isLoading$ | async) === false">
                <span class="indicator-label">Enviar</span>
            </ng-container>
        </a>
    </form>
</div>